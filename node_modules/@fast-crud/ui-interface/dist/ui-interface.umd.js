(function(t,s){typeof exports=="object"&&typeof module<"u"?s(exports,require("vue"),require("lodash-es")):typeof define=="function"&&define.amd?define(["exports","vue","lodash-es"],s):(t=typeof globalThis<"u"?globalThis:t||self,s(t.FsUiInterface={},t.Vue,t._))})(this,function(t,s,c){"use strict";class m{constructor(){this.ref=s.ref(null)}set(u){this.ref.value=u}get(){if(this.ref.value==null)throw new Error("您还未设置ui,先安装依赖@fast-crud/ui-interface,然后在use(FastCrud)前安装ui，app.use(UiXxx)");return this.ref.value}}const l=new m;function C(){return{uiContext:l,ui:l.get(),set:n=>{l.set(n)}}}const f=n=>{const u=typeof n.is=="string"?s.resolveComponent(n.is):n.is;return s.createVNode(u,n.props,n.slots)},a=(n,u)=>f(n.builder(u)),p=(n,u,r)=>{const o={},i=n.modelValue,e=u.vModel;i!=null&&e&&(e!=null&&e.get&&(e!=null&&e.set)?(o[i]=e.get(),o[`onUpdate:${i}`]=d=>{e.set(d),e.onChange&&e.onChange(d)}):e.ref&&e.key?(o[i]=c.get(e.ref,e.key),o[`onUpdate:${i}`]=d=>{c.set(e.ref,e.key,d),e.onChange&&e.onChange(d)}):console.warn("vModel配置错误:",n,e));const y={is:u.is||n.name,props:u.props,slots:u.slots},F=r instanceof Function?r():r;return c.merge({props:o},F,y)},h=(n,u={})=>{const r={...n};return r.render=o=>a(r,o),r.builder||(r.builder=o=>p(r,o,u)),r.buildProps=o=>r.builder(o).props,r.builderComputed=o=>s.computed(()=>r.builder(o)),r};function U(){return{creator:h,doRenderComponent:f,renderComponent:a,buildBinding:p}}const g=s.defineComponent({name:"FsUiRender",props:{renderFn:{type:Function,default(){return()=>null}}},setup(n){return()=>n.renderFn()}});t.UiContext=m,t.UiRender=g,t.buildBinding=p,t.creator=h,t.doRenderComponent=f,t.renderComponent=a,t.uiContext=l,t.useUi=C,t.useUiRender=U,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWktaW50ZXJmYWNlLnVtZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnRleHQudHMiLCIuLi8uLi9zcmMvdXNlL3VzZS11aS50cyIsIi4uLy4uL3NyYy91c2UvdXNlLXJlbmRlci50c3giLCIuLi9zcmMvY29tcG9uZW50cy9mcy11aS1yZW5kZXIudnVlIl0sInNvdXJjZXNDb250ZW50IjpbbnVsbCxudWxsLG51bGwsIjxzY3JpcHQgbGFuZz1cInRzeFwiPlxuaW1wb3J0IHsgVWlTbG90IH0gZnJvbSBcIi4uL3VpLWludGVyZmFjZVwiO1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBQcm9wVHlwZSB9IGZyb20gXCJ2dWVcIjtcblxuaW50ZXJmYWNlIFVpUmVuZGVyUHJvcHMge1xuICByZW5kZXJGbjogVWlSZW5kZXJGbjtcbn1cblxudHlwZSBVaVJlbmRlckZuID0gKCkgPT4gVWlTbG90O1xuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogXCJGc1VpUmVuZGVyXCIsXG4gIHByb3BzOiB7XG4gICAgcmVuZGVyRm46IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uIGFzIFByb3BUeXBlPFVpUmVuZGVyRm4+LFxuICAgICAgZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNldHVwKHByb3BzOiBVaVJlbmRlclByb3BzKSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJldHVybiBwcm9wcy5yZW5kZXJGbigpO1xuICAgIH07XG4gIH1cbn0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiPjwvc3R5bGU+XG4iXSwibmFtZXMiOlsiVWlDb250ZXh0IiwicmVmIiwidWkiLCJ1aUNvbnRleHQiLCJ1c2VVaSIsImRvUmVuZGVyQ29tcG9uZW50IiwiYmluZGluZyIsImNvbXAiLCJpcyIsInJlc29sdmVDb21wb25lbnQiLCJfY3JlYXRlVk5vZGUiLCJwcm9wcyIsInNsb3RzIiwicmVuZGVyQ29tcG9uZW50IiwiY2kiLCJvcHRzIiwiYnVpbGRlciIsImJ1aWxkQmluZGluZyIsInNwZWNpYWwiLCJ2TW9kZWwiLCJtb2RlbFZhbHVlTmFtZSIsIm1vZGVsVmFsdWUiLCJtdkNvbmYiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwia2V5IiwiXyIsImNvbnNvbGUiLCJ3YXJuIiwidXNlckJpbmRpbmciLCJuYW1lIiwic3BlY2lhbEJpbmRpbmciLCJGdW5jdGlvbiIsIm1lcmdlIiwiY3JlYXRvciIsImV4dGVuZENJIiwicmVuZGVyIiwiYnVpbGRQcm9wcyIsImJ1aWxkZXJDb21wdXRlZCIsImNvbXB1dGVkIiwidXNlVWlSZW5kZXIiLCJkZWZpbmVDb21wb25lbnQiLCJyZW5kZXJGbiIsInR5cGUiLCJkZWZhdWx0Iiwic2V0dXAiXSwibWFwcGluZ3MiOiIrU0FHYUEsQ0FBUyxDQUF0QixhQUFBLENBQ0UsS0FBQSxJQUF5QkMsTUFBSSxJQUFJLENBV25DLENBVkUsSUFBSUMsRUFBZSxDQUNqQixLQUFLLElBQUksTUFBUUEsQ0FDbkIsQ0FFQSxLQUFHLENBQ0csR0FBQSxLQUFLLElBQUksT0FBUyxLQUNkLE1BQUEsSUFBSSxNQUFNLDJFQUEyRSxFQUU3RixPQUFPLEtBQUssSUFBSSxLQUNsQixDQUNELENBQ1ksTUFBQUMsRUFBWSxJQUFJSCxXQ2JiSSxHQUFLLENBQ1osTUFBQSxDQUNMLFVBQUFELEVBQ0EsR0FBSUEsRUFBVSxJQUFLLEVBQ25CLElBQU1ELEdBQW1CLENBQ3ZCQyxFQUFVLElBQUlELENBQUUsQ0FDbEIsQ0FBQSxDQUVKLENDTWFHLE1BQUFBLEVBQTBDQyxHQUFtQyxDQUN4RixNQUFNQyxFQUFPLE9BQU9ELEVBQVFFLElBQU8sU0FBV0MsbUJBQWlCSCxFQUFRRSxFQUFFLEVBQUlGLEVBQVFFLEdBQ3JGLE9BQUFFLEVBQUFBLFlBQUFILEVBQWlCRCxFQUFRSyxNQUFnQkwsRUFBUU0sS0FBSyxDQUN4RCxFQUVhQyxFQUFxQ0EsQ0FBQ0MsRUFBSUMsSUFDOUNWLEVBQWtCUyxFQUFHRSxRQUFRRCxDQUFJLENBQUMsRUFROUJFLEVBQStCQSxDQUFDSCxFQUFJQyxFQUFNRyxJQUE2QixDQUNsRixNQUFNQyxFQUFjLENBQUEsRUFFZEMsRUFBaUJOLEVBQUdPLFdBQ3BCQyxFQUFjUCxFQUFLSSxPQUNyQkMsR0FBa0IsTUFBUUUsSUFDeEJBLEdBQUFBLE1BQUFBLEVBQVFDLE1BQU9ELEdBQUFBLE1BQUFBLEVBQVFFLE1BQ3pCTCxFQUFPQyxDQUFjLEVBQUlFLEVBQU9DLElBQUcsRUFDbkNKLGNBQW1CQyxDQUFjLEVBQUUsRUFBS0ssR0FBYyxDQUNwREgsRUFBT0UsSUFBSUMsQ0FBSyxFQUNoQkgsRUFBT0ksVUFBWUosRUFBT0ksU0FBU0QsQ0FBSyxJQUVqQ0gsRUFBT3JCLEtBQU9xQixFQUFPSyxLQUM5QlIsRUFBT0MsQ0FBYyxFQUFJUSxFQUFFTCxJQUFJRCxFQUFPckIsSUFBS3FCLEVBQU9LLEdBQUcsRUFDckRSLGNBQW1CQyxDQUFjLEVBQUUsRUFBS0ssR0FBYyxDQUNwREcsRUFBRUosSUFBSUYsRUFBT3JCLElBQUtxQixFQUFPSyxJQUFLRixDQUFLLEVBQ25DSCxFQUFPSSxVQUFZSixFQUFPSSxTQUFTRCxDQUFLLElBRzFDSSxRQUFRQyxLQUFLLGNBQWVoQixFQUFJUSxDQUFNLEdBSTFDLE1BQU1TLEVBQWMsQ0FDbEJ2QixHQUFJTyxFQUFLUCxJQUFNTSxFQUFHa0IsS0FDbEJyQixNQUFPSSxFQUFLSixNQUNaQyxNQUFPRyxFQUFLSCxPQUdScUIsRUFBaUJmLGFBQW1CZ0IsU0FBV2hCLEVBQU8sRUFBS0EsRUFDakUsT0FBT1UsRUFBRU8sTUFDUCxDQUNFeEIsTUFBT1EsQ0FDUixFQUNEYyxFQUNBRixDQUFXLENBRWYsRUFPYUssRUFBOEJBLENBQWV0QixFQUFpQkksRUFBNEIsS0FBUyxDQUM5RyxNQUFNbUIsRUFBZ0IsQ0FBRSxHQUFHdkIsR0FDM0J1QixPQUFBQSxFQUFTQyxPQUFVdkIsR0FDVkYsRUFBZ0J3QixFQUFVdEIsQ0FBSSxFQUVsQ3NCLEVBQVNyQixVQUNacUIsRUFBU3JCLFFBQVdELEdBQ1hFLEVBQWFvQixFQUFVdEIsRUFBTUcsQ0FBTyxHQUcvQ21CLEVBQVNFLFdBQWN4QixHQUNkc0IsRUFBU3JCLFFBQVFELENBQUksRUFBRUosTUFFaEMwQixFQUFTRyxnQkFBbUJ6QixHQUNuQjBCLEVBQVEsU0FBQyxJQUNQSixFQUFTckIsUUFBUUQsQ0FBSSxDQUM3QixFQUVJc0IsQ0FDVCxXQUVnQkssR0FBVyxDQUN6QixNQUFPLENBQ0xOLFFBQUFBLEVBQ0EvQixrQkFBQUEsRUFDQVEsZ0JBQUFBLEVBQ0FJLGFBQUFBLEVBRUosQ0M5RmUwQixNQUFBQSxvQkFBZ0IsQ0FDN0JYLEtBQU0sYUFDTnJCLE1BQU8sQ0FDTGlDLFNBQVUsQ0FDUkMsS0FBTVgsU0FDTlksU0FBVSxDQUNSLE1BQU8sSUFDRSxJQUVYLENBQ0YsQ0FDRCxFQUNEQyxNQUFNcEMsRUFBc0IsQ0FDMUIsTUFBTyxJQUNFQSxFQUFNaUMsVUFFakIsQ0FDRixDQUFDIn0=
