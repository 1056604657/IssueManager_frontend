import {
  lodash_default_default
} from "./chunk-6KFXODJP.js";
import {
  computed2 as computed,
  createVNode,
  defineComponent,
  ref,
  resolveComponent
} from "./chunk-7Q7JYBSX.js";

// node_modules/@fast-crud/ui-interface/dist/ui-interface.mjs
var x = class {
  constructor() {
    this.ref = ref(null);
  }
  set(o) {
    this.ref.value = o;
  }
  get() {
    if (this.ref.value == null)
      throw new Error("您还未设置ui,先安装依赖@fast-crud/ui-interface,然后在use(FastCrud)前安装ui，app.use(UiXxx)");
    return this.ref.value;
  }
};
var l = new x();
function w() {
  return {
    uiContext: l,
    ui: l.get(),
    set: (r) => {
      l.set(r);
    }
  };
}
var d = (r) => {
  const o = typeof r.is == "string" ? resolveComponent(r.is) : r.is;
  return createVNode(o, r.props, r.slots);
};
var c = (r, o) => d(r.builder(o));
var p = (r, o, n) => {
  const t = {}, s = r.modelValue, e = o.vModel;
  s != null && e && (e != null && e.get && (e != null && e.set) ? (t[s] = e.get(), t[`onUpdate:${s}`] = (u) => {
    e.set(u), e.onChange && e.onChange(u);
  }) : e.ref && e.key ? (t[s] = lodash_default_default.get(e.ref, e.key), t[`onUpdate:${s}`] = (u) => {
    lodash_default_default.set(e.ref, e.key, u), e.onChange && e.onChange(u);
  }) : console.warn("vModel配置错误:", r, e));
  const a = {
    is: o.is || r.name,
    props: o.props,
    slots: o.slots
  }, f = n instanceof Function ? n() : n;
  return lodash_default_default.merge({
    props: t
  }, f, a);
};
var F = (r, o = {}) => {
  const n = {
    ...r
  };
  return n.render = (t) => c(n, t), n.builder || (n.builder = (t) => p(n, t, o)), n.buildProps = (t) => n.builder(t).props, n.builderComputed = (t) => computed(() => n.builder(t)), n;
};
function R() {
  return {
    creator: F,
    doRenderComponent: d,
    renderComponent: c,
    buildBinding: p
  };
}
var k = defineComponent({
  name: "FsUiRender",
  props: {
    renderFn: {
      type: Function,
      default() {
        return () => null;
      }
    }
  },
  setup(r) {
    return () => r.renderFn();
  }
});

export {
  x,
  l,
  w,
  d,
  c,
  p,
  F,
  R,
  k
};
//# sourceMappingURL=chunk-TMD4VLGD.js.map
